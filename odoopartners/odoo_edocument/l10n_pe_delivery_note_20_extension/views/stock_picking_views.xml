<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record id="view_picking_edi_form_l10n_pe_edi_stock_inherit_l10n_pe_delivery_note_20_extension" model="ir.ui.view">
        <field name="name">view.picking.edi.form.l10n.pe.edi.stock.inherit.l10n_pe_delivery_note_20_extension</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="l10n_pe_edi_stock.view_picking_edi_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='pe_edi_group_transport']" position="after">
                <group string="Importación/Exportación" name="import_export" readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')">
                    <field name="is_transfer_total_assets_dam_ds" readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')"/>
                    
                    <field name="airport_catalog_id" readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')"
                        invisible="port_catalog_id != False"/>

                    <field name="port_catalog_id" 
                        readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')" 
                        invisible="airport_catalog_id != False"/>

                    <field name="container_number_one" 
                        readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')"/>

                    <div class="o_td_label" invisible="container_number_one not in ('of_the_dam', 'another_container')">
                        <label for="container_one_registered_number" 
                            string="Contenedor 1 registrado en la DAM" 
                            style="font-weight:bold;" 
                            invisible="container_number_one not in ('of_the_dam')"/>

                        <label for="container_one_registered_number" 
                            string="Nro. del contenedor" 
                            style="font-weight:bold;" 
                            invisible="container_number_one not in ('another_container')"/>
                    </div>

                    <field name="container_one_registered_number" 
                        nolabel="1" 
                        readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')" 
                        invisible="container_number_one not in ('of_the_dam', 'another_container')"
                    />
                    
                    <field name="container_one_precinct_number" 
                        readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')" 
                        invisible="container_number_one not in ('of_the_dam', 'another_container')"
                    />

                    <field name="pallets_number" 
                        readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')" 
                        invisible="container_number_one not in ('without_container')"
                    />
                    <field name="container_number_two" 
                        readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')" 
                        invisible="container_number_one in ('without_container')"
                    />

                    <div class="o_td_label" invisible="container_number_two not in ('of_the_dam', 'another_container')">
                        <label for="container_one_registered_number" 
                            string="Contenedor 2 registrado en la DAM" 
                            style="font-weight:bold;" 
                            invisible="container_number_two not in ('of_the_dam')"
                        />
                        <label for="container_one_registered_number" 
                            string="Nro. del contenedor" 
                            style="font-weight:bold;" 
                            invisible="container_number_two not in ('another_container')"
                    />
                    </div>

                    <field name="container_two_registered_number" 
                        nolabel="1" 
                        readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')" 
                        invisible="container_number_two not in ('of_the_dam', 'another_container')"
                    />
                    <field name="container_two_precinct_number" 
                        readonly="l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')" 
                        invisible="container_number_two not in ('of_the_dam', 'another_container')"
                    />
                
                </group>
            </xpath>
        </field>
    </record>

    <record id="view_picking_edi_form_l10n_pe_edi_stock_20_inherit_l10n_pe_delivery_note_20_extension" model="ir.ui.view">
        <field name="name">view.picking.edi.form.l10n.pe.edi.stock.20.inherit.l10n_pe_delivery_note_20_extension</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="l10n_pe_edi_stock.view_picking_edi_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='l10n_pe_edi_related_document_type']" position="attributes">
                <attribute name="readonly">l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')</attribute>
                <attribute name="required">l10n_pe_edi_reason_for_transfer in ('08', '09')</attribute>
            </xpath>
            <xpath expr="//field[@name='l10n_pe_edi_document_number']" position="attributes">
                <attribute name="readonly">l10n_pe_edi_status not in (False, 'to_send', 'to_cancel')</attribute>
                <attribute name="required">l10n_pe_edi_related_document_type != False or l10n_pe_edi_reason_for_transfer in ('08', '09')</attribute>
            </xpath>
        </field>
    </record>

</odoo>