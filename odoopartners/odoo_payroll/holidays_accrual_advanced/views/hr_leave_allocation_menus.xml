<?xml version='1.0' encoding='utf-8'?>
<odoo>
    
    <record id="action_hr_leave_allocation" model="ir.actions.server">
        <field name="name">Recalculate Accrual Allocations</field>
        <field name="type">ir.actions.server</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_allocation"/>
        <field name="binding_model_id" ref="hr_holidays.model_hr_leave_allocation"/>
        <field name="state">code</field>
        <field name="code">
            if records:
            action = records.action_recalculate_accrual_allocations()
        </field>
    </record>

    <record id="action_hr_leave_allocation_accrual_all" model="ir.actions.server">
        <field name="name">Recalculate All Accrual Allocations</field>
        <field name="type">ir.actions.server</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave_allocation"/>
        <field name="state">code</field>
        <field name="code">
            action = model.action_recalculate_accrual_allocations_all()
        </field>
    </record>

    <menuitem
            id="hr_holidays_accrual_recalculate_menuitem"
            action="action_hr_leave_allocation_accrual_all"
            name="Recalculate Accrual Allocations"
            parent="hr_holidays.menu_hr_holidays_configuration"
            groups="hr_holidays.group_hr_holidays_user"
            sequence="0"/>

</odoo>